{% extends "base.html" %}

{% block content %}

<div class="text-center mb-5 pt-4">
    <h1 class="display-4 mb-3">Find Your Mentor</h1>
    <p class="lead text-muted mb-4">Browse our curated list of professional coaches.</p>
    
    <div class="d-inline-block bg-white rounded-pill shadow-lg p-2" style="max-width: 600px; width: 100%;">
        <form action="{{ url_for('coaches') }}" method="GET" class="d-flex align-items-center">
            <i class="bi bi-search ms-3 text-muted"></i>
            <input type="text" name="sport" class="form-control border-0 shadow-none bg-transparent" placeholder="Sport (e.g. Tennis)" value="{{ request.args.get('sport', '') }}">
            <div class="vr mx-2 opacity-25"></div>
            <input type="text" name="city" class="form-control border-0 shadow-none bg-transparent" placeholder="City" value="{{ request.args.get('city', '') }}">
            <button class="btn btn-primary rounded-pill px-4" type="submit">Search</button>
        </form>
    </div>
</div>

<div class="row g-4">
    {% for coach in coaches %}
    <div class="col-md-6 col-lg-4">
        <div class="card h-100 border-0 shadow-sm rounded-4 hover-lift">
            <div class="row g-0 h-100">
                <div class="position-relative">
                    <img src="{{ url_for('static', filename='uploads/' + coach.profile_image) }}" 
                         class="w-100 rounded-top-4" 
                         style="height: 250px; object-fit: cover;">
                    {% if coach.is_verified %}
                    <span class="position-absolute bottom-0 start-0 m-3 badge-verified bg-white shadow-sm">
                        Verified Pro
                    </span>
                    {% endif %}
                </div>
                
                <div class="card-body p-4 d-flex flex-column">
                    <div class="d-flex justify-content-between mb-2">
                        <span class="text-clay fw-bold text-uppercase small">{{ coach.sport.split(',')[0] }}</span>
                        <span class="text-muted small"><i class="bi bi-geo-alt"></i> {{ coach.city }}</span>
                    </div>
                    
                    <h4 class="mb-1">{{ coach.name }}</h4>
                    <p class="text-muted small mb-3">{{ coach.tagline or "Dedicated professional coach" }}</p>
                    
                    <div class="mt-auto pt-3 border-top border-light d-flex justify-content-between align-items-center">
                        <div>
                            <span class="d-block small text-muted">Starting from</span>
                            <span class="fw-bold fs-5">â‚¹{{ coach.price_per_session }}</span>
                        </div>
                        <a href="{{ url_for('coach_detail', slug=coach.slug) }}" class="btn btn-outline-dark btn-sm rounded-pill px-4">Profile</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="col-12 text-center py-5">
        <h3 class="serif-font text-muted">No results found.</h3>
        <p>Try adjusting your filters.</p>
    </div>
    {% endfor %}
</div>
{% endblock %}